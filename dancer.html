<head>
    <title>Dansr</title>
    <!--this is bootstrap if you want it-->
    <link rel="stylesheet" href= "https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.css">
    <link rel="stylesheet" href="mainLayout.css">
	
	<!-- jQuery and jQueryUI -->
	<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
	<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="js/ui/jquery.ui.draggable.js" type="type/javascript"></script>
    
    <script>
      $(document).ready(function() {

      //Initialize auto-complete
      var availableCodes = [
        "chicken",
        "toffee",
        "nature",
      ];
      
      $( "#codeSearch" ).autocomplete({
          source: availableCodes
      });
      
      $('#codeSubmit').click(function() {
      //TODO: Prevent multiple entries from being added
      
        //Add entered code to auto-complete list:
        availableCodes.push($('#codeSearch').val());
      
        //$( "#codeSearch" ).val(""); //Uncomment to clear text field

        $( "#codeSearch" ).autocomplete({
            source: availableCodes
        });
      
        //TODO:	 Advance to next screen after searching for dance code
      });

      //Draggable Indicator:
      $(function() {
        $("#indicator").draggable({ axis: "x", containment: "parent"});
        $("#indicator").on("drag", function(event, ui) {
          var width = $("#seekbar").width();
          var fractionalPosition = ui.position.left / width;
      
           //TODO: Trigger seek in video / audio
        });
      });

      $("#seekbar").mousedown(function(event) {
      var clickedPosX_centered = event.clientX - event.delegateTarget.offsetLeft - $('#indicator').width();

      $("#indicator").css({ position: 'relative',
                            left: clickedPosX_centered });
      
      var indicator = $("#indicator");

      var ui = {};
      ui['helper'] = indicator;
      ui['position'] = indicator.position();
      ui['offset'] =  {top: 0, left: 0};
      
      indicator.triggerHandler(event);

      });
      });
    </script>
</head>
<body>
    <h1> This is an awesome Dancer interface</h1>
    <div id ="top">
        <!-- this is for the hamburger menu, logo, and watch/edit dance button-->
    </div>
    
    <div id ="search">
      <div class="padding"> </div> <!-- for additional margins but can effectively be removed -->
      
	<div class="ui-widget" id="searchWidget">
	  <label for="codeSearch">Enter Code:</label>
	  <input id="codeSearch" class="ui-autocomplete-input" >
	  <button id="codeSubmit">Submit</button>
  	</div>
	
    	<div class="padding"> </div>
    </div>
    <div id="content" style="width: 640; margin: 0 auto">
      <div id ="video" style="height: 300; border:1px solid black; ">

      </div>
      <div id ="seekbar">
	<div id="indicator" class="ui-draggable ui-draggable-handle">
	</div>
      </div>
    </div>
    <div id ="watchTools">

    </div>
</body>
